#-----------------------------------------------------------
# Vivado v2020.1 (64-bit)
# SW Build 2902540 on Wed May 27 19:54:35 MDT 2020
# IP Build 2902112 on Wed May 27 22:43:36 MDT 2020
# Start of session at: Tue Nov 23 10:33:20 2021
# Process ID: 27081
# Current directory: /home/gabri-bot/University/Git_hub/ALVEO_ML/NN_train/MNIST_Test/HLS_projects/Qkeras_pruned_CNN/hls4ml_alveo_prj
# Command line: vivado -mode batch -source axi_stream_kernel.tcl
# Log file: /home/gabri-bot/University/Git_hub/ALVEO_ML/NN_train/MNIST_Test/HLS_projects/Qkeras_pruned_CNN/hls4ml_alveo_prj/vivado.log
# Journal file: /home/gabri-bot/University/Git_hub/ALVEO_ML/NN_train/MNIST_Test/HLS_projects/Qkeras_pruned_CNN/hls4ml_alveo_prj/vivado.jou
#-----------------------------------------------------------
source axi_stream_kernel.tcl
# set tcldir [file dirname [info script]]
# source [file join $tcldir project.tcl]
## variable myproject
## set myproject "myproject"
## set bit_width_hls_output 32
## set bit_width_hls_input 32
# create_project project_1 ${myproject}_vivado_accelerator -part xcu50-fsvh2104-2L-e -force
# set_property board_part xilinx.com:au50:part0:1.3 [current_project]
WARNING: [Project 1-153] The current project device 'xcu50-fsvh2104-2l-e' does not match with the device on the 'XILINX.COM:AU50:PART0:1.3' board part. A device change to match the device on 'XILINX.COM:AU50:PART0:1.3' board part is being done. Please upgrade the IP in the project via the upgrade_ip command or by selecting Reports => Reports IP Status.
INFO: [Project 1-152] Project part set to virtexuplusHBM (xcu50-fsvh2104-2-e)
# create_ip -name rtl_kernel_wizard -vendor xilinx.com -library ip -version 1.0 -module_name myproject_kernel
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1704] No user IP repositories specified
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository '/tools/Xilinx/Vivado/2020.1/data/ip'.
# set_property -dict [list CONFIG.Component_Name {myproject_kernel} CONFIG.KERNEL_NAME {myproject_kernel} CONFIG.KERNEL_VENDOR {hls4ml} CONFIG.KERNEL_TYPE {Block_Design} CONFIG.NUM_RESETS {1} CONFIG.NUM_INPUT_ARGS {0} CONFIG.M00_AXI_DATA_NUM_BYTES {4} CONFIG.M00_AXI_NUM_ARGS {2} CONFIG.M00_AXI_ARG00_NAME {in_r} CONFIG.M00_AXI_ARG01_NAME {out_r}] [get_ips myproject_kernel]
WARNING: [Vivado 12-3523] Attempt to change 'Component_Name' from 'myproject_kernel' to 'myproject_kernel' is not allowed and is ignored.
# open_example_project -force -dir ./${myproject}_vivado_accelerator [get_ips  myproject_kernel]
INFO: [IP_Flow 19-1686] Generating 'Examples' target for IP 'myproject_kernel'...
open_example_project: Time (s): cpu = 00:00:00.66 ; elapsed = 00:01:12 . Memory (MB): peak = 2193.598 ; gain = 0.004 ; free physical = 10837 ; free virtual = 14893
# open_bd_design {myproject_kernel_ex/myproject_kernel_ex.srcs/sources_1/bd/myproject_kernel_bd/myproject_kernel_bd.bd}
ERROR: [BD 41-1296] Cannot read block design file <myproject_kernel_ex/myproject_kernel_ex.srcs/sources_1/bd/myproject_kernel_bd/myproject_kernel_bd.bd>, check for the correct location of the file.
ERROR: [Common 17-39] 'open_bd_design' failed due to earlier errors.

    while executing
"open_bd_design {myproject_kernel_ex/myproject_kernel_ex.srcs/sources_1/bd/myproject_kernel_bd/myproject_kernel_bd.bd}"
    (file "axi_stream_kernel.tcl" line 14)
INFO: [Common 17-206] Exiting Vivado at Tue Nov 23 10:34:40 2021...
