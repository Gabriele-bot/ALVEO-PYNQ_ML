#-----------------------------------------------------------
# Vivado v2020.1 (64-bit)
# SW Build 2902540 on Wed May 27 19:54:35 MDT 2020
# IP Build 2902112 on Wed May 27 22:43:36 MDT 2020
# Start of session at: Tue Dec  7 00:32:21 2021
# Process ID: 5947
# Current directory: /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex
# Command line: vivado -notrace -source /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/vivado_rtl_kernel.srcs/sources_1/ip/myproject_kernel/myproject_kernel_ex.tcl
# Log file: /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/vivado.log
# Journal file: /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/vivado.jou
#-----------------------------------------------------------
start_gui
source /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/vivado_rtl_kernel.srcs/sources_1/ip/myproject_kernel/myproject_kernel_ex.tcl -notrace
update_compile_order -fileset sources_1
delete_bd_objs [get_bd_intf_nets dma_1_m00_axis] [get_bd_intf_nets example_op_1_m_axis] [get_bd_cells example_op_1]
delete_bd_objs [get_bd_intf_nets dma_0_m00_axis] [get_bd_intf_nets example_op_0_m_axis] [get_bd_cells example_op_0]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axis_data_fifo:2.0 axis_data_fifo_0
endgroup
set_property -dict [list CONFIG.TDATA_NUM_BYTES.VALUE_SRC USER CONFIG.HAS_TLAST.VALUE_SRC USER] [get_bd_cells axis_data_fifo_0]
set_property -dict [list CONFIG.TDATA_NUM_BYTES {4} CONFIG.FIFO_DEPTH {32768} CONFIG.HAS_TLAST {1}] [get_bd_cells axis_data_fifo_0]
connect_bd_intf_net [get_bd_intf_pins axis_data_fifo_0/M_AXIS] -boundary_type upper [get_bd_intf_pins dma_1/s00_axis]
connect_bd_intf_net [get_bd_intf_pins axis_data_fifo_0/S_AXIS] -boundary_type upper [get_bd_intf_pins dma_0/m00_axis]
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/ap_clk (250 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins axis_data_fifo_0/s_axis_aclk]
validate_bd_design
regenerate_bd_layout
# --------------------------------------------
# Start: RTL Kernel Packaging of Netlist
#
source -notrace /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/imports/package_kernel.tcl
# Running synthesis
reset_run synth_1
launch_runs synth_1 -jobs 4
wait_on_run [get_runs synth_1]
open_run synth_1 -name synth_1
rename_ref -prefix_all myproject_kernel_
write_checkpoint /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/myproject_kernel_ex.runs/synth_1/packaged.dcp
write_xdc /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/myproject_kernel_ex.runs/synth_1/packaged.xdc
close_design
package_project_dcp_and_xdc /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/myproject_kernel_ex.runs/synth_1/packaged.dcp /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/myproject_kernel_ex.runs/synth_1/packaged.xdc /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/myproject_kernel fastmachinelearning kernel myproject_kernel
package_xo  -xo_path /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/exports/myproject_kernel.xo -kernel_name myproject_kernel -ip_directory /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/myproject_kernel -kernel_xml /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/vivado_rtl_kernel/myproject_kernel_ex/imports/kernel.xml
# Complete: RTL Kernel Packaging of Netlist
file mkdir /home/gabri-bot/Vivado_projects/.workspace/myproject_kernel/src/vitis_rtl_kernel/myproject_kernel
set_property CONFIG.FREQ_HZ 3000000 [get_bd_ports ap_clk]
set_property CONFIG.FREQ_HZ 250000000 [get_bd_ports ap_clk]
save_bd_design
